<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="author" content="刀心の水">
<meta name="keywords" content=", visual, music, technology">
<meta name="description" content="In derived class templates, refer to names in base class templates via a this-&gt; prefix, via using declarations, or via an explicit base class qualification.">


<meta property="og:description" content="In derived class templates, refer to names in base class templates via a this-&gt; prefix, via using declarations, or via an explicit base class qualification.">
<meta property="og:type" content="article">
<meta property="og:title" content="Item-43 Know how to access names in templatized base classes">
<meta name="twitter:title" content="Item-43 Know how to access names in templatized base classes">
<meta property="og:url" content="https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
<meta property="twitter:url" content="https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
<meta property="og:site_name" content="刀心水敲字の地方">
<meta property="og:description" content="In derived class templates, refer to names in base class templates via a this-&gt; prefix, via using declarations, or via an explicit base class qualification.">
<meta name="twitter:description" content="In derived class templates, refer to names in base class templates via a this-&gt; prefix, via using declarations, or via an explicit base class qualification.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2018-03-09T21:48:26">
  
  
    <meta property="article:modified_time" content="2018-03-09T21:48:26">
  
  
  
    
      <meta property="article:section" content="technology">
    
      <meta property="article:section" content="coding">
    
  
  
    
      <meta property="article:tag" content="technique">
    
      <meta property="article:tag" content="cpp">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://nianze.tk/images/2018/2018-03/2018-03-09.gif">
  <meta property="twitter:image" content="https://nianze.tk/images/2018/2018-03/2018-03-09.gif">





  <meta property="og:image" content="https://nianze.tk/images/bw.JPG">
  <meta property="twitter:image" content="https://nianze.tk/images/bw.JPG">


    <title>Item-43 Know how to access names in templatized base classes</title>

    <link rel="icon" href="https://nianze.tk/images/favicon.png">
    

    

    <link rel="canonical" href="https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">

    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://nianze.tk/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    
      
        <link rel="stylesheet" href="https://nianze.tk/css/main.css">
      
    
      
        <link rel="stylesheet" href="https://nianze.tk/css/loader.css">
      
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-71584380-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body id="container">
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fas fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://nianze.tk/">刀心水敲字の地方</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://nianze.tk/#about">
    
    
    
      
        <img class="header-picture" src="https://nianze.tk/images/bw.JPG" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://nianze.tk/#about">
          <img class="sidebar-profile-picture" src="https://nianze.tk/images/bw.JPG" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">刀心の水</h4>
        
          <h5 class="sidebar-profile-bio"><p>虚度廿余岁月浅，略识几行代码源。<br />
闲来随手快门按，怆然独把音韵弹。</p>

<p>Pain is inevitable.<br />
Suffering is optional.</p>
</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/">
    
      <i class="sidebar-button-icon fas fa-home" title='Home'></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/categories/thoughts">
    
      <i class="sidebar-button-icon fas fa-lightbulb" title='Thoughts'></i>
      
      <span class="sidebar-button-desc">Thoughts</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/categories/technology">
    
      <i class="sidebar-button-icon fas fa-code" title='Technology'></i>
      
      <span class="sidebar-button-desc">Technology</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/categories/music">
    
      <i class="sidebar-button-icon fas fa-music" title='Music'></i>
      
      <span class="sidebar-button-desc">Music</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/categories/visual">
    
      <i class="sidebar-button-icon fas fa-palette" title='Visual'></i>
      
      <span class="sidebar-button-desc">Visual</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/categories">
    
      <i class="sidebar-button-icon fas fa-bookmark" title='Categories'></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/tags">
    
      <i class="sidebar-button-icon fas fa-tags" title='Tags'></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/archives">
    
      <i class="sidebar-button-icon fas fa-archive" title='Archives'></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/about">
    
      <i class="sidebar-button-icon fas fa-user" title='About'></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/nianze" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-linkedin" title='LinkedIn'></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/Nianze" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-github" title='Github'></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.flickr.com/photos/129774362@N07/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-flickr", title='Flickr'></i>
      
      <span class="sidebar-button-desc">Flickr</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://instagram.com/eznain" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-instagram" title='Instagram'></i>
      
      <span class="sidebar-button-desc">Instagram</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.facebook.com/rym.lnz" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-facebook", title='Facebook'></i>
      
      <span class="sidebar-button-desc">Facebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/daoxinzhishui" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-twitter", title='Twitter'></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.youtube.com/user/daoxinzhishui" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fab fa-youtube", title='YouTube'></i>
      
      <span class="sidebar-button-desc">YouTube</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="mailto:daoxinzhishui@gmail.com" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fas fa-envelope", title='Email'></i>
      
      <span class="sidebar-button-desc">Email</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nianze.tk/post/index.xml">
    
      <i class="sidebar-button-icon fas fa-rss-square", title='RSS'></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Item-43 Know how to access names in templatized base classes
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-03-09T21:48:26-05:00">
        
  March 9, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://nianze.tk/categories/technology">technology</a>, 
    
      <a class="category-link" href="https://nianze.tk/categories/coding">coding</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>In derived class templates, refer to names in base class templates via a <code>this-&gt;</code> prefix, via <code>using</code> declarations, or via an explicit base class qualification.</p>

<h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
<ul>
<li><a href="#case-study">Case Study</a>
<ul>
<li><a href="#1-call-with-this">1. Call with &ldquo;this-&gt;&rdquo;</a></li>
<li><a href="#2-employ-a-using-declaration">2. Employ a &ldquo;using&rdquo; declaration</a></li>
<li><a href="#3-explicitly-specify-the-base-class-qualification">3. Explicitly specify the base class qualification</a></li>
</ul></li>
<li><a href="#summary">Summary</a></li>
</ul>
</nav>

<h1 id="case-study">Case Study</h1>

<p>Sometimes when we cross from Object-oriented C++ to Template C++ (item 1), inheritance seem to stop working. For example, we&rsquo;d like to log some information for the <code>sendMsg</code> function in base class <code>MsgSender</code>, so we make following derived class <code>LoggingMsgSender</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CompanyA</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ...
    <span style="color:#66d9ef">void</span> sendClearText(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>string<span style="color:#f92672">&amp;</span> msg);
    ...
};

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CompanyB</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ...
    <span style="color:#66d9ef">void</span> sendClearText(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>string<span style="color:#f92672">&amp;</span> msg);
    ...
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MsgInfo</span> {...};  <span style="color:#75715e">// class for holding information used to create msg
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> Company<span style="color:#f92672">&gt;</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MsgSender</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ...  <span style="color:#75715e">// ctor, dtor, etc.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> sendClear(<span style="color:#66d9ef">const</span> MsgInfo<span style="color:#f92672">&amp;</span> info)
    {
        std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>string msg;
        <span style="color:#75715e">// create msg from info;
</span><span style="color:#75715e"></span>        Company c;
        c.sendClearText(msg);
    }
    ...
};

<span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> Company<span style="color:#f92672">&gt;</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoggingMsgSender</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> MsgSender<span style="color:#f92672">&lt;</span>Company<span style="color:#f92672">&gt;</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ... <span style="color:#75715e">// ctor, dtor, etc.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> sendClearMsg(<span style="color:#66d9ef">const</span> MsgInfo<span style="color:#f92672">&amp;</span> info)
    {
        <span style="color:#75715e">// write &#34;before sending&#34; info to the log
</span><span style="color:#75715e"></span>        sendClear(info);  <span style="color:#75715e">// call base class function -&gt; not compile
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// write &#34;after sending&#34; info to the log
</span><span style="color:#75715e"></span>    }
    ...
};
</code></pre></div>
<p>Note that the message-sending function in the derived class has a different name <code>sendClearMsg</code> from its counterpart <code>sendClear</code> in the base class: this is good design for two reasongs:</p>

<ol>
<li>it avoids the issue of hiding inherited names (item 33)</li>
<li>it side-steps the problems inherent in redefining an inherited non-virtual function (item 36)</li>
</ol>

<p>However, the code above will not compile, because, by default, compilers will not look for the function <code>sendClear</code> in the base class. The behavior seems to break our expected inheritance concept from Object-oriented world, but compilers do this for a good reason: they will not know what the base class <code>MsgSender&lt;Company&gt;</code> really looks like until when <code>LoggingMsgSender</code> is instantiated, so it is possible that there&rsquo;s a special template parameter class <code>CompanyC</code> that, instead of providing function <code>sendClearText</code>, only supports <code>sendEncrypted</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CompanyZ</span> {  <span style="color:#75715e">// this class offers no sendClearText Fucntion
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ...
    <span style="color:#66d9ef">void</span> sendEncrypted(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">:</span><span style="color:#f92672">:</span>string<span style="color:#f92672">&amp;</span> msg);
    ...
};
</code></pre></div>
<p>In this case, <code>sendClear</code> function in <code>MsgSender</code> base class will make no sense. To rectify the problem, we can create a specialized version of <code>MsgSender</code> for <code>CompanyZ</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#f92672">&gt;</span>  <span style="color:#75715e">// signifies this is neither a template nor a standalone class
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MsgSender</span><span style="color:#f92672">&lt;</span>CompanyZ<span style="color:#f92672">&gt;</span> { <span style="color:#75715e">// but a total specialization of MsgSender
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ... <span style="color:#75715e">// the same as the general template, except sendCleartext is omitted
</span><span style="color:#75715e"></span>};
</code></pre></div>
<p>This syntax is known as a <em>total template specialization</em>: the template <code>MsgSender</code> is specialized for the type <code>CompanyZ</code>, and the specialization is <em>total</em> - once the type parameter has been defined to be <code>CompanyZ</code>, no other aspect of the template&rsquo;s parameters can vary.</p>

<p>Since base class templates may be specialized and that such specializations may not offer the same interface as the general template, C++ generally  refuses to look in templatized base classes for inherited names. That&rsquo;s why we say inheritance stops working in Template C++ wolrd.</p>

<p>To force C++ to look in templatized base classes, there are three ways:</p>

<h2 id="1-call-with-this">1. Call with &ldquo;this-&gt;&rdquo;</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> Company<span style="color:#f92672">&gt;</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoggingMsgSender</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> MsgSender<span style="color:#f92672">&lt;</span>Company<span style="color:#f92672">&gt;</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ... <span style="color:#75715e">// ctor, dtor, etc.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> sendClearMsg(<span style="color:#66d9ef">const</span> MsgInfo<span style="color:#f92672">&amp;</span> info)
    {
        <span style="color:#75715e">// write &#34;before sending&#34; info to the log
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">-</span><span style="color:#f92672">&gt;</span>sendClear(info);  <span style="color:#75715e">// assumes that sendClear will be inherited
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// write &#34;after sending&#34; info to the log
</span><span style="color:#75715e"></span>    }
    ...
};
</code></pre></div>
<h2 id="2-employ-a-using-declaration">2. Employ a &ldquo;using&rdquo; declaration</h2>

<p>This is the same trick we use in item 33, which explains how <code>using</code> declaration brings hidden base class names into a derived class&rsquo;s scope<sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> Company<span style="color:#f92672">&gt;</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoggingMsgSender</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> MsgSender<span style="color:#f92672">&lt;</span>Company<span style="color:#f92672">&gt;</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">using</span> MsgSender<span style="color:#f92672">&lt;</span>Company<span style="color:#f92672">&gt;</span><span style="color:#f92672">:</span><span style="color:#f92672">:</span>sendClear;  <span style="color:#75715e">// tell compilers to assume that sendClear is in the base class
</span><span style="color:#75715e"></span>    ... <span style="color:#75715e">// ctor, dtor, etc.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> sendClearMsg(<span style="color:#66d9ef">const</span> MsgInfo<span style="color:#f92672">&amp;</span> info)
    {
        <span style="color:#75715e">// write &#34;before sending&#34; info to the log
</span><span style="color:#75715e"></span>        sendClear(info);  <span style="color:#75715e">// assumes that sendClear will be inherited
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// write &#34;after sending&#34; info to the log
</span><span style="color:#75715e"></span>    }
    ...
};
</code></pre></div>
<h2 id="3-explicitly-specify-the-base-class-qualification">3. Explicitly specify the base class qualification</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">template</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> Company<span style="color:#f92672">&gt;</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoggingMsgSender</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> MsgSender<span style="color:#f92672">&lt;</span>Company<span style="color:#f92672">&gt;</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    ... <span style="color:#75715e">// ctor, dtor, etc.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> sendClearMsg(<span style="color:#66d9ef">const</span> MsgInfo<span style="color:#f92672">&amp;</span> info)
    {
        <span style="color:#75715e">// write &#34;before sending&#34; info to the log
</span><span style="color:#75715e"></span>        MsgSender<span style="color:#f92672">&lt;</span>Company<span style="color:#f92672">&gt;</span><span style="color:#f92672">:</span><span style="color:#f92672">:</span>sendClear(info);  <span style="color:#75715e">// assumes that sendClear will be inherited
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// write &#34;after sending&#34; info to the log
</span><span style="color:#75715e"></span>    }
    ...
};
</code></pre></div>
<p>This approach is less desirable, because if the function being called is virtual, explicit qualification turns off the virtual binding behavior.</p>

<h1 id="summary">Summary</h1>

<p>From a name visibility point of view, each of these approaches does the same thing: it promises  compilers that any subsequent specializations of the base class template will support the interface  offered by the general template. However, if the promise turns out to be unfounded, the subsequent compilation will still diagnose invalid references to base class members and reveal the truth:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">LoggingMsgSender<span style="color:#f92672">&lt;</span>CompanyZ<span style="color:#f92672">&gt;</span> zMsgSender;

MsgInfo msgData;
... <span style="color:#75715e">// put info in msgData
</span><span style="color:#75715e"></span>zMsgSender.sendClearMsg(msgData);  <span style="color:#75715e">// error! won&#39;t compile. Compilers know the base class MsgSender&lt;CompanyZ&gt; 
</span><span style="color:#75715e"></span>                                   <span style="color:#75715e">// doesn&#39;t offer the sendClear function for this template specilization
</span></code></pre></div>
<blockquote>
<p>Fundamentally, compilers will diagnose invalid references to base class members sooner (when derived class template definitions are parsed) or later (when templates are instantiated with specific template arguments). C++&rsquo;s policy is to prefer early diagnoses, and that&rsquo;s why it assumes it knows nothing about the contents of base classes when those classes are instantiated from templates.</p>
</blockquote>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Note that there&rsquo;s difference between the problem solved in this item from that in item 33: here, the problem is that compilers don&rsquo;t search base class scopes unless we explicitly specify it; in item 33, it is due to the derived class names that hide base class names.
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://nianze.tk/tags/technique/">technique</a>

  <a class="tag tag--primary tag--small" href="https://nianze.tk/tags/cpp/">cpp</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://nianze.tk/2018/03/factor-parameter-independent-code-out-of-templates/" data-tooltip="Item-44 Factor parameter-independent code out of templates">
              
                  <i class="fas fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://nianze.tk/2018/03/understand-the-two-meanings-of-typename/" data-tooltip="Item-42 Understand the two meanings of typename">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fas fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fas fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
              <i class="fab fa-facebook-f"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
              <i class="fab fa-google-plus-g"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#utteranc_thread" data-tooltip="Comments">
            <i class="fas fa-comment-dots"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents" data-tooltip="Table of Contents">
            <i class="fas fa-list"></i>
        
          </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="utteranc_thread">
  <script src="https://utteranc.es/client.js"
    repo= "Nianze/personal-site-comments"
    issue-term="pathname"
    theme="github-light"
    label="✨comment 💬"
    crossorigin="anonymous"
    async>
  </script>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 刀心の水. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://nianze.tk/2018/03/factor-parameter-independent-code-out-of-templates/" data-tooltip="Item-44 Factor parameter-independent code out of templates">
              
                  <i class="fas fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://nianze.tk/2018/03/understand-the-two-meanings-of-typename/" data-tooltip="Item-42 Understand the two meanings of typename">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fas fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fas fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
              <i class="fab fa-facebook-f"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://nianze.tk/2018/03/know-how-to-access-names-in-templatized-base-classes/">
              <i class="fab fa-google-plus-g"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#utteranc_thread" data-tooltip="Comments">
            <i class="fas fa-comment-dots"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents" data-tooltip="Table of Contents">
            <i class="fas fa-list"></i>
        
          </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fas fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fnianze.tk%2F2018%2F03%2Fknow-how-to-access-names-in-templatized-base-classes%2F">
          <i class="fa fa-facebook-f"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fnianze.tk%2F2018%2F03%2Fknow-how-to-access-names-in-templatized-base-classes%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fnianze.tk%2F2018%2F03%2Fknow-how-to-access-names-in-templatized-base-classes%2F">
          <i class="fa fa-google-plus-g"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fas fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://nianze.tk/images/bw.JPG" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">刀心の水</h4>
    
      <div id="about-card-bio"><p>虚度廿余岁月浅，略识几行代码源。<br />
闲来随手快门按，怆然独把音韵弹。</p>

<p>Pain is inevitable.<br />
Suffering is optional.</p>
</div>
    
    
      <div id="about-card-job">
        <i class="fas fa-laptop-code"></i>
        <br/>
        Developer
      </div>
    
    
      <div id="about-card-location">
        <i class="fas fa-map-marked-alt"></i>
        <br/>
        New York
      </div>
    
  </div>
</div>

    

    
  
    
    <div id="cover" style="background-image:url('https://nianze.tk/images/road.JPG');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/3.2.0/imagesloaded.pkgd.min.js"></script>


<script src="https://nianze.tk/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


  
    <script src="https://nianze.tk/js/loader.js"></script>
  

<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>





    
  </body>
</html>

